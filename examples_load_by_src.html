<!DOCTYPE html>
<HTML lang="en">
<HEAD>
<META CHARSET="utf-8">
<TITLE>Various Examples for jsonToD3.js (Load-by-SRC)</TITLE>

<style>
code {
  font-family: Courier New;
  font-size: 90%;
  color: #00F;
}

pre {
  background-color: #eee;
  white-space: pre-wrap;       /* css-3 */
  white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
  white-space: -pre-wrap;      /* Opera 4-6 */
  white-space: -o-pre-wrap;    /* Opera 7 */
  \word-wrap: break-word;       /* Internet Explorer 5.5+ */
}
</style>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js" charset="utf-8"></script>
<script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.4.11/d3.min.js" charset="utf-8"></script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
      processEscapes: true
    },
    "messageStyle" : "none",
    "HTML-CSS": { availableFonts: ["TeX"] },
    "delayStartupUntil" : "onload"
  });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

<script type="text/javascript" src="jsonToD3.js"></script>

<script type="text/javascript">
var chartArray = null
function init() {
	chartArray = jsonToD3.work();
}
</script>

</HEAD>
<BODY onLoad="init()">

<H1 ALIGN=CENTER>Various Examples for jsonToD3.js (Load-by-SRC)</H1>

<p>In the examples here, data is being loaded from some other file in contrast to the examples in <A HREF="examples_inline.html">examples_inline.html</A>. Tentatively, these have to live on the same site. Although at some point, JSONP-like functionality might be considered.</p>

<p>For those who are interested in jsonToD3.js as a charting library, check out <a href="https://github.com/convexset/jsonToD3" target=_blank>the GitHub repository for jsonToD3.js</a>.</p>

<HR/>

<DIV ALIGN=CENTER id="ex1">
<SCATTERPLOT SRC="./examples/hdbRental_Aug2014.json"
    ERR-SRC="[[twitpic_imgsrc|BwH17FsCAAAqOJ9.jpg:small]]"
    ERR-TEXT="How Did This Load Fail?"
    RENDER-TEXT="HDB Rentals (Sep 2013 to Sep 2014)"
    RENDER-TEXT-STYLE="font-style: italic;"
    >
</SCATTERPLOT>
</DIV>

<h3>The Chart</h3>
<p>Things are a bit cluttered. Try clicking on the legend to hide some series. Right click to show just one series.</p>

<p>For details on the points, try hovering the mouse cursor over some of them.</p>

<p>Note also that the translucent points lead to something of a empirical density plot. (So, opacity can, of course, be customized...)</p>

<h3>Code:</h3>
<PRE id="code_ex1"></PRE>
<HR/>

<DIV ALIGN=CENTER id="ex2">
<SCATTERPLOT SRC="./examples/hdbResale_Aug2014.json"
    ERR-SRC="[[twitpic_imgsrc|BwH17FsCAAAqOJ9.jpg:small]]"
    ERR-TEXT="How Did This Load Fail?"
    RENDER-TEXT="HDB Resale Prices (Sep 2013 to Sep 2014)"
    RENDER-TEXT-STYLE="font-style: italic;"
    >
</SCATTERPLOT>
</DIV>

<h3>The Chart</h3>
<p>The data set here is relatively big, so apologies for the load time. I expect Singaporeans would have a good time viewing the data though it is only a subset and is sliced "one way".</p>

<h3>Code:</h3>
<PRE id="code_ex2"></PRE>
<HR/>

<DIV ALIGN=CENTER id="ex3">
<SCATTERPLOT SRC="./examples/badlyFormed.json"
  ERR-TEXT="The Chart Didn't Load, So Here's Something For You"
  ERR-STYLE="text-align: center; color: #446; font-weight: bold;"
  ERR-IMG-SRC="https://pbs.twimg.com/media/BwH17FsCAAAqOJ9.jpg:small"
  ERR-IMG-STYLE="border: 2px solid #777; -webkit-border-radius: 20px; -moz-border-radius: 20px; border-radius: 20px;"
  RENDER-TEXT="Someone Needs to Tell Me How This Loaded"
  RENDER-TEXT-STYLE="font-style: italic;"
  >
</SCATTERPLOT>
</DIV>

<h3>The Non-Chart</h3>
<p>The source contains some unparseable elements. So this is how errors might be managed</p>

<h3>Code:</h3>
<PRE id="code_ex3"></PRE>
<HR/>

<script>
// Before onload...
var example_indices = [1,2,3]
for (var i = 0; i < example_indices.length; i++) {
	var ex_id = "ex" + example_indices[i]
	var pre_id = "code_ex" + example_indices[i]
	var codeElem = document.getElementById(ex_id)
	var codeDisplayElem = document.getElementById(pre_id)
	codeDisplayElem.appendChild(document.createTextNode("\n" + codeElem.innerHTML.trim() + "\n\n"))
}
</script>

</BODY>
</HTML>